<?php

namespace Actions;


use Silex\Application;
use Symfony\Component\HttpFoundation\Request;
use Symfony\Component\HttpFoundation\Response;


class PlayDemoAction extends LoggedOutAction {

	protected static function _execute(Application $app, Request $request): string {
		$instrument = $request->get('instrument');
		if ($instrument == 'piano') {
			return $app['twig']->render('play_song_demo.twig', [
				's' => [
					"name" => "Fur Elise",
					"key_signature" => "C major",
					"beat_value" => 8,
					"beats_per_measure" => 6,
				],
				'is_demo' => true,
				'song_id' => 0,
				'instrument' => $request->get('instrument'),
				'bars' => '[[{"clef":"treble","keys":["E\/5"],"duration":"8","dot_count":0},{"clef":"treble","keys":["Eb\/5"],"duration":"8","dot_count":0,"accidental":"b"},{"clef":"treble","keys":["E\/5"],"duration":"8","dot_count":0,"accidental":"n"},{"clef":"treble","keys":["Eb\/5"],"duration":"8","dot_count":0,"accidental":"b"},{"clef":"treble","keys":["E\/5"],"duration":"8","dot_count":0,"accidental":"n"},{"clef":"treble","keys":["B\/4"],"duration":"8","dot_count":0}],[{"clef":"treble","keys":["D\/5"],"duration":"8","dot_count":0},{"clef":"treble","keys":["C\/5"],"duration":"8","dot_count":0},{"clef":"treble","keys":["A\/4"],"duration":"q","dot_count":0},{"clef":"bass","keys":["A\/3"],"duration":"8","dot_count":0},{"clef":"treble","keys":["C\/4"],"duration":"8","dot_count":0}],[{"clef":"treble","keys":["E\/4"],"duration":"8","dot_count":0},{"clef":"treble","keys":["A\/4"],"duration":"8","dot_count":0},{"clef":"treble","keys":["B\/4"],"duration":"q","dot_count":0},{"clef":"bass","keys":["B\/3"],"duration":"8","dot_count":0},{"clef":"treble","keys":["E\/4"],"duration":"8","dot_count":0}],[{"clef":"treble","keys":["G#\/4"],"duration":"8","dot_count":0,"accidental":"#"},{"clef":"treble","keys":["B\/4"],"duration":"8","dot_count":0},{"clef":"treble","keys":["C\/5"],"duration":"q","dot_count":0},{"clef":"bass","keys":["A\/3"],"duration":"8","dot_count":0},{"clef":"treble","keys":["E\/4"],"duration":"8","dot_count":0}],[{"clef":"treble","keys":["E\/5"],"duration":"8","dot_count":0},{"clef":"treble","keys":["Eb\/5"],"duration":"8","dot_count":0,"accidental":"b"},{"clef":"treble","keys":["E\/5"],"duration":"8","dot_count":0,"accidental":"n"},{"clef":"treble","keys":["Eb\/5"],"duration":"8","dot_count":0,"accidental":"b"},{"clef":"treble","keys":["E\/5"],"duration":"8","dot_count":0,"accidental":"n"},{"clef":"treble","keys":["B\/4"],"duration":"8","dot_count":0}],[{"clef":"treble","keys":["D\/5"],"duration":"8","dot_count":0},{"clef":"treble","keys":["C\/5"],"duration":"8","dot_count":0},{"clef":"treble","keys":["A\/4"],"duration":"q","dot_count":0},{"clef":"bass","keys":["A\/3"],"duration":"8","dot_count":0},{"clef":"treble","keys":["C\/4"],"duration":"8","dot_count":0}],[{"clef":"treble","keys":["E\/4"],"duration":"8","dot_count":0},{"clef":"treble","keys":["A\/4"],"duration":"8","dot_count":0},{"clef":"treble","keys":["B\/4"],"duration":"q","dot_count":0},{"clef":"bass","keys":["B\/3"],"duration":"8","dot_count":0},{"clef":"treble","keys":["E\/4"],"duration":"8","dot_count":0}],[{"clef":"treble","keys":["C\/5"],"duration":"8","dot_count":0},{"clef":"treble","keys":["B\/4"],"duration":"8","dot_count":0},{"clef":"treble","keys":["A\/4"],"duration":"h","dot_count":0}],[{"clef":"treble","keys":["E\/5"],"duration":"8","dot_count":0},{"clef":"treble","keys":["Eb\/5"],"duration":"8","dot_count":0,"accidental":"b"},{"clef":"treble","keys":["E\/5"],"duration":"8","dot_count":0,"accidental":"n"},{"clef":"treble","keys":["Eb\/5"],"duration":"8","dot_count":0,"accidental":"b"},{"clef":"treble","keys":["E\/5"],"duration":"8","dot_count":0,"accidental":"n"},{"clef":"treble","keys":["B\/4"],"duration":"8","dot_count":0}],[{"clef":"treble","keys":["D\/5"],"duration":"8","dot_count":0},{"clef":"treble","keys":["C\/5"],"duration":"8","dot_count":0},{"clef":"treble","keys":["A\/4"],"duration":"q","dot_count":0},{"clef":"bass","keys":["A\/3"],"duration":"8","dot_count":0},{"clef":"treble","keys":["C\/4"],"duration":"8","dot_count":0}],[{"clef":"treble","keys":["E\/4"],"duration":"8","dot_count":0},{"clef":"treble","keys":["A\/4"],"duration":"8","dot_count":0},{"clef":"treble","keys":["B\/4"],"duration":"q","dot_count":0},{"clef":"bass","keys":["B\/3"],"duration":"8","dot_count":0},{"clef":"treble","keys":["E\/4"],"duration":"8","dot_count":0}],[{"clef":"treble","keys":["G#\/4"],"duration":"8","dot_count":0,"accidental":"#"},{"clef":"treble","keys":["B\/4"],"duration":"8","dot_count":0},{"clef":"treble","keys":["C\/5"],"duration":"q","dot_count":0},{"clef":"bass","keys":["A\/3"],"duration":"8","dot_count":0},{"clef":"treble","keys":["E\/4"],"duration":"8","dot_count":0}],[{"clef":"treble","keys":["E\/5"],"duration":"8","dot_count":0},{"clef":"treble","keys":["Eb\/5"],"duration":"8","dot_count":0,"accidental":"b"},{"clef":"treble","keys":["E\/5"],"duration":"8","dot_count":0,"accidental":"n"},{"clef":"treble","keys":["Eb\/5"],"duration":"8","dot_count":0,"accidental":"b"},{"clef":"treble","keys":["E\/5"],"duration":"8","dot_count":0,"accidental":"n"},{"clef":"treble","keys":["B\/4"],"duration":"8","dot_count":0}],[{"clef":"treble","keys":["D\/5"],"duration":"8","dot_count":0},{"clef":"treble","keys":["C\/5"],"duration":"8","dot_count":0},{"clef":"treble","keys":["A\/4"],"duration":"q","dot_count":0},{"clef":"bass","keys":["A\/3"],"duration":"8","dot_count":0},{"clef":"treble","keys":["C\/4"],"duration":"8","dot_count":0}],[{"clef":"treble","keys":["E\/4"],"duration":"8","dot_count":0},{"clef":"treble","keys":["A\/4"],"duration":"8","dot_count":0},{"clef":"treble","keys":["B\/4"],"duration":"q","dot_count":0},{"clef":"bass","keys":["B\/3"],"duration":"8","dot_count":0},{"clef":"treble","keys":["E\/4"],"duration":"8","dot_count":0}],[{"clef":"treble","keys":["C\/5"],"duration":"8","dot_count":0},{"clef":"treble","keys":["B\/4"],"duration":"8","dot_count":0},{"clef":"treble","keys":["A\/4"],"duration":"q","dot_count":0},{"clef":"bass","keys":["A\/3"],"duration":"8","dot_count":0},{"clef":"treble","keys":["B\/4"],"duration":"8","dot_count":0}],[{"clef":"treble","keys":["C\/5"],"duration":"8","dot_count":0},{"clef":"treble","keys":["D\/5"],"duration":"8","dot_count":0},{"clef":"treble","keys":["E\/5"],"duration":"q","dot_count":1},{"clef":"treble","keys":["G\/4"],"duration":"8","dot_count":0}],[{"clef":"treble","keys":["F\/5"],"duration":"8","dot_count":0},{"clef":"treble","keys":["E\/5"],"duration":"8","dot_count":0},{"clef":"treble","keys":["D\/5"],"duration":"q","dot_count":1},{"clef":"treble","keys":["F\/4"],"duration":"8","dot_count":0}],[{"clef":"treble","keys":["E\/5"],"duration":"8","dot_count":0},{"clef":"treble","keys":["D\/5"],"duration":"8","dot_count":0},{"clef":"treble","keys":["C\/5"],"duration":"q","dot_count":1},{"clef":"treble","keys":["E\/4"],"duration":"8","dot_count":0}],[{"clef":"treble","keys":["D\/5"],"duration":"8","dot_count":0},{"clef":"treble","keys":["C\/5"],"duration":"8","dot_count":0},{"clef":"treble","keys":["B\/4"],"duration":"q","dot_count":0},{"clef":"treble","keys":["E\/4"],"duration":"8","dot_count":0},{"clef":"treble","keys":["E\/4"],"duration":"8","dot_count":0}],[{"clef":"treble","keys":["E\/5"],"duration":"8","dot_count":0},{"clef":"bass","keys":["E\/3"],"duration":"8","dot_count":0},{"clef":"treble","keys":["E\/4"],"duration":"8","dot_count":0},{"clef":"treble","keys":["E\/4"],"duration":"8","dot_count":0},{"clef":"treble","keys":["E\/5"],"duration":"8","dot_count":0},{"clef":"treble","keys":["Eb\/5"],"duration":"8","dot_count":0,"accidental":"b"}],[{"clef":"treble","keys":["E\/5"],"duration":"8","dot_count":0},{"clef":"treble","keys":["Eb\/5"],"duration":"8","dot_count":0,"accidental":"b"},{"clef":"treble","keys":["E\/5"],"duration":"q","dot_count":1,"accidental":"n"},{"clef":"treble","keys":["Eb\/5"],"duration":"8","dot_count":0,"accidental":"b"}],[{"clef":"treble","keys":["E\/5"],"duration":"8","dot_count":0},{"clef":"treble","keys":["Eb\/5"],"duration":"8","dot_count":0,"accidental":"b"},{"clef":"treble","keys":["E\/5"],"duration":"8","dot_count":0,"accidental":"n"},{"clef":"treble","keys":["Eb\/5"],"duration":"8","dot_count":0,"accidental":"b"},{"clef":"treble","keys":["E\/5"],"duration":"8","dot_count":0,"accidental":"n"},{"clef":"treble","keys":["B\/4"],"duration":"8","dot_count":0}],[{"clef":"treble","keys":["D\/5"],"duration":"8","dot_count":0},{"clef":"treble","keys":["C\/5"],"duration":"8","dot_count":0},{"clef":"treble","keys":["A\/4"],"duration":"q","dot_count":0},{"clef":"bass","keys":["A\/3"],"duration":"8","dot_count":0},{"clef":"treble","keys":["C\/4"],"duration":"8","dot_count":0}],[{"clef":"treble","keys":["E\/4"],"duration":"8","dot_count":0},{"clef":"treble","keys":["A\/4"],"duration":"8","dot_count":0},{"clef":"treble","keys":["B\/4"],"duration":"q","dot_count":0},{"clef":"bass","keys":["B\/3"],"duration":"8","dot_count":0},{"clef":"treble","keys":["E\/4"],"duration":"8","dot_count":0}],[{"clef":"treble","keys":["G#\/4"],"duration":"8","dot_count":0,"accidental":"#"},{"clef":"treble","keys":["B\/4"],"duration":"8","dot_count":0},{"clef":"treble","keys":["C\/5"],"duration":"q","dot_count":0},{"clef":"bass","keys":["A\/3"],"duration":"8","dot_count":0},{"clef":"treble","keys":["E\/4"],"duration":"8","dot_count":0}],[{"clef":"treble","keys":["E\/5"],"duration":"8","dot_count":0},{"clef":"treble","keys":["Eb\/5"],"duration":"8","dot_count":0,"accidental":"b"},{"clef":"treble","keys":["E\/5"],"duration":"8","dot_count":0,"accidental":"n"},{"clef":"treble","keys":["Eb\/5"],"duration":"8","dot_count":0,"accidental":"b"},{"clef":"treble","keys":["E\/5"],"duration":"8","dot_count":0,"accidental":"n"},{"clef":"treble","keys":["B\/4"],"duration":"8","dot_count":0}],[{"clef":"treble","keys":["D\/5"],"duration":"8","dot_count":0},{"clef":"treble","keys":["C\/5"],"duration":"8","dot_count":0},{"clef":"treble","keys":["A\/4"],"duration":"q","dot_count":0},{"clef":"bass","keys":["A\/3"],"duration":"8","dot_count":0},{"clef":"treble","keys":["C\/4"],"duration":"8","dot_count":0}],[{"clef":"treble","keys":["E\/4"],"duration":"8","dot_count":0},{"clef":"treble","keys":["A\/4"],"duration":"8","dot_count":0},{"clef":"treble","keys":["B\/4"],"duration":"q","dot_count":0},{"clef":"bass","keys":["B\/3"],"duration":"8","dot_count":0},{"clef":"treble","keys":["E\/4"],"duration":"8","dot_count":0}],[{"clef":"treble","keys":["C\/5"],"duration":"8","dot_count":0},{"clef":"treble","keys":["B\/4"],"duration":"8","dot_count":0},{"clef":"treble","keys":["A\/4"],"duration":"h","dot_count":0}]]
'
			]);
		} else {
			return $app['twig']->render('play_song_demo.twig', [
				's' => [
					"name" => "Happy Birthday",
					"key_signature" => "F major",
					"beat_value" => 4,
					"beats_per_measure" => 3,
				],
				'is_demo' => true,
				'song_id' => 0,
				'instrument' => $request->get('instrument'),
				'bars' => '[[{"clef":"treble","keys":["C\/4"],"duration":"8","dot_count":1},{"clef":"treble","keys":["C\/4"],"duration":"16","dot_count":0},{"clef":"treble","keys":["D\/4"],"duration":"q","dot_count":0},{"clef":"treble","keys":["C\/4"],"duration":"q","dot_count":0}],[{"clef":"treble","keys":["F\/4"],"duration":"q","dot_count":0},{"clef":"treble","keys":["E\/4"],"duration":"h","dot_count":0}],[{"clef":"treble","keys":["C\/4"],"duration":"8","dot_count":1},{"clef":"treble","keys":["C\/4"],"duration":"16","dot_count":0},{"clef":"treble","keys":["D\/4"],"duration":"q","dot_count":0},{"clef":"treble","keys":["C\/4"],"duration":"q","dot_count":0}],[{"clef":"treble","keys":["G\/4"],"duration":"q","dot_count":0},{"clef":"treble","keys":["F\/4"],"duration":"h","dot_count":0}],[{"clef":"treble","keys":["C\/4"],"duration":"8","dot_count":1},{"clef":"treble","keys":["C\/4"],"duration":"16","dot_count":0},{"clef":"treble","keys":["C\/5"],"duration":"q","dot_count":0},{"clef":"treble","keys":["A\/4"],"duration":"q","dot_count":0}],[{"clef":"treble","keys":["F\/4"],"duration":"q","dot_count":0},{"clef":"treble","keys":["E\/4"],"duration":"q","dot_count":0},{"clef":"treble","keys":["D\/4"],"duration":"q","dot_count":0}],[{"clef":"treble","keys":["Bb\/4"],"duration":"8","dot_count":1},{"clef":"treble","keys":["Bb\/4"],"duration":"16","dot_count":0},{"clef":"treble","keys":["A\/4"],"duration":"q","dot_count":0},{"clef":"treble","keys":["F\/4"],"duration":"q","dot_count":0}],[{"clef":"treble","keys":["G\/4"],"duration":"q","dot_count":0},{"clef":"treble","keys":["F\/4"],"duration":"h","dot_count":1}],[{"clef":"treble","duration":"q","ghost":true}]]'
			]);
		}
	}
}
